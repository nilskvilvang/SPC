<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 Datatyper og datafordelinger | Statistisk prosesskontroll</title>
  <meta name="description" content="4 Datatyper og datafordelinger | Statistisk prosesskontroll" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="4 Datatyper og datafordelinger | Statistisk prosesskontroll" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Datatyper og datafordelinger | Statistisk prosesskontroll" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="variasjon.html"/>
<link rel="next" href="r-kode.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<link href="libs/tabwid-1.0.0/tabwid.css" rel="stylesheet" />



<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">SPC</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduksjon</a></li>
<li class="chapter" data-level="1" data-path="hvorfor-denne-boka.html"><a href="hvorfor-denne-boka.html"><i class="fa fa-check"></i><b>1</b> Hvorfor denne boka?</a>
<ul>
<li class="chapter" data-level="1.1" data-path="hvorfor-denne-boka.html"><a href="hvorfor-denne-boka.html#programvare"><i class="fa fa-check"></i><b>1.1</b> Programvare</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="hvorfor-er-tid-viktig.html"><a href="hvorfor-er-tid-viktig.html"><i class="fa fa-check"></i><b>2</b> Hvorfor er tid viktig?</a>
<ul>
<li class="chapter" data-level="2.1" data-path="hvorfor-er-tid-viktig.html"><a href="hvorfor-er-tid-viktig.html#hva-er-utgangspunktet-vi-skal-korrigere-fra"><i class="fa fa-check"></i><b>2.1</b> Hva er utgangspunktet vi skal korrigere fra?</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="variasjon.html"><a href="variasjon.html"><i class="fa fa-check"></i><b>3</b> Variasjon</a>
<ul>
<li class="chapter" data-level="3.1" data-path="variasjon.html"><a href="variasjon.html#simulering-av-trakteksperimentet-i-r"><i class="fa fa-check"></i><b>3.1</b> Simulering av trakteksperimentet i R</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="datatyper-og-datafordelinger.html"><a href="datatyper-og-datafordelinger.html"><i class="fa fa-check"></i><b>4</b> Datatyper og datafordelinger</a>
<ul>
<li class="chapter" data-level="4.1" data-path="datatyper-og-datafordelinger.html"><a href="datatyper-og-datafordelinger.html#normalfordeling"><i class="fa fa-check"></i><b>4.1</b> Normalfordeling</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="datatyper-og-datafordelinger.html"><a href="datatyper-og-datafordelinger.html#varians-og-standardavvik"><i class="fa fa-check"></i><b>4.1.1</b> Varians og standardavvik</a></li>
<li class="chapter" data-level="4.1.2" data-path="datatyper-og-datafordelinger.html"><a href="datatyper-og-datafordelinger.html#normalfordeling-standardavvik-og-forventninger"><i class="fa fa-check"></i><b>4.1.2</b> Normalfordeling, standardavvik og forventninger</a></li>
<li class="chapter" data-level="4.1.3" data-path="datatyper-og-datafordelinger.html"><a href="datatyper-og-datafordelinger.html#binomialfordeling"><i class="fa fa-check"></i><b>4.1.3</b> Binomialfordeling</a></li>
<li class="chapter" data-level="4.1.4" data-path="datatyper-og-datafordelinger.html"><a href="datatyper-og-datafordelinger.html#poissonfordeling"><i class="fa fa-check"></i><b>4.1.4</b> Poissonfordeling</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="r-kode.html"><a href="r-kode.html"><i class="fa fa-check"></i>R kode</a>
<ul>
<li class="chapter" data-level="" data-path="r-kode.html"><a href="r-kode.html#kapittel-2"><i class="fa fa-check"></i>Kapittel 2</a></li>
<li class="chapter" data-level="" data-path="r-kode.html"><a href="r-kode.html#kapittel-3"><i class="fa fa-check"></i>Kapittel 3</a></li>
<li class="chapter" data-level="" data-path="r-kode.html"><a href="r-kode.html#kapittel-4"><i class="fa fa-check"></i>Kapittel 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chebyshevs-teorem.html"><a href="chebyshevs-teorem.html"><i class="fa fa-check"></i>Chebyshevs teorem</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Statistisk prosesskontroll</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="datatyper-og-datafordelinger" class="section level1" number="4">
<h1><span class="header-section-number">4</span> Datatyper og datafordelinger</h1>
<p>Ift statistisk prosesskontroll er det formålstjenlig å snakke om tre hovedtyper data: måledata, telledata og sjeldne hendelser. Måledata er kontinuerlige data – det vil si de kan måles på en skala som høyde, vekt og tid. Her kan en observasjon/et datapunkt innta en hvilken som helst verdi innenfor et gitt spenn. Høyden på en person kan være 178,34227809 cm eller 178,34227808 cm.</p>
<p>Telledata et kategoriske (også ofte omtalt som diskrete) data – det vil si et datapunkt (en observasjon) kan puttes inn i en klar kategori, som f.eks. antall avvik, antall hendelser, ja/nei, terningkast. Diskrete data har et begrenset antall mulige verdier som er gjensidig utelukkende. Et terningkast med en vanlig terning kan ikke både være 3 og 4 samtidig, en lysbryter kan ikke være av og på samtidig. Et terningkast kan heller ikke være 1,43. Med tanke på datafordeling er både binomial-, Poissonfordeling og geomterisk fordeling diskrete fordelinger, mens normalfordeling og eksponensiell fordeling vil være kontinuerlig (se f.eks. <span class="citation">Ugarte et al. (2016)</span>).</p>
<p>Når det gjelder sjeldne hendelser kan de være både telledata og måledata. For eksempel vil antall dager mellom en hendelse være en diskret data, mens tid kan måles og vil være kontinuerlige data. Det er spesielle utfordringer med det vi kaller sjeldne hendelser finnes det også egne måter å håndtere dette på i statistisk prosesskontroll, noe vi vil komme tilbake til. For sjeldne henselser vil både geometrisk og eksponensiell fordeling være relevant. Det finnes en god del flere fordelinger enn disse som nå er nevnt, men som <span class="citation">Benneyan (1998)</span> viser er normal-, binomial- og Poissonfordeling de tre vesentligste. For en god oversikt over flere fordelinger, se f.eks. <span class="citation">Mun (2008)</span>.</p>
<p>Hvorfor fokus på fordelinger?</p>
<p>Fordelingene – normalfordeling, binomialfordeling, Poissionfordeling, geometrisk fordeling og eksponensiell fordeling – beskriver ulike fordelinger ut fra hvordan dataene ser ut. Vi bruker forventningene/sannsynlighetene for ulike verdier i statistisk prosesskontroll til å vurdere om en verdi av en observasjon eller måling er innenfor eller utenfor det vi vil kalle normal variasjon (jfr kapittelet om variasjon). Siden dataene kan være av ulik type – diskret eller kontinuerlig, binomial/ikke binomial osv – bruker vi ulike utregningsmetoder og diagrammer i statistisk prosesskontroll for å få et riktig resultat. Det finnes et antall ulike diagrammer å velge mellom i statistisk prosesskontroll. For å gjøre valget sikrere og lettere kan man bruke følgende flytskjema for å orientere seg:</p>
<div class="figure">
<img src="Flytdiagram_valg.png" alt="" />
<p class="caption">Flytdiagram for valg av analyse</p>
</div>
<p>Senere kommer vi tilbake til de ulike diagrammene gjennom praktiske eksempler. Før vi kommer dit vil vi gå gjennom de sentrale datafordelingstypene.</p>
<div id="normalfordeling" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Normalfordeling</h2>
<p>Når vi snakker om distribusjonen av et datasett tenker vi på hvordan dataene vi har samlet inn fordeler seg i forhold til hverandre etter gitte egenskaper. Vi kan for eksempel ha målt høyden på 100 mennesker. Disse dataene utgjør da en observert fordeling som vi kan sette inn i et diagram for å visualisere hvordan datasettet ser ut.</p>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-1"></span>
<img src="SPC-book_files/figure-html/unnamed-chunk-1-1.png" alt="Høydefordeling for 100 tilfeldige menn, genererte data" width="672" />
<p class="caption">
Figure 4.1: Høydefordeling for 100 tilfeldige menn, genererte data
</p>
</div>
<p>Hvis vi samler inn høydedata for 100 andre tilfeldig menn kan fordelingen se slik ut:</p>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-2"></span>
<img src="SPC-book_files/figure-html/unnamed-chunk-2-1.png" alt="Høydefordeling for 100 andre tilfeldige menn, genererte data" width="672" />
<p class="caption">
Figure 4.2: Høydefordeling for 100 andre tilfeldige menn, genererte data
</p>
</div>
<p>Hver gang vi måler høyden på 100 tilfeldig utvalgte menn vil fordelingen se ulik ut siden de er observerte fordelinger i et utvalg av populasjonen (alle) «norske menn». Hvis vi imidlertid økte antallet i utvalget vi målte til 1000 eller 10000 vil vi med større sikkerhet kunne si at vi faktisk viser populasjonens fordeling (mulighetene for at vi tilfeldigvis måler 10000 veldig lave eller veldig høye menn er svært liten). Vi kan derfor, gitt visse forutsetninger om utvalget, si noe om hele populasjonen ut fra utvalget.</p>
<p>Hittil har vi snakket om observerte fordelinger. Ut fra dette kan vi si at vi kan ha visse forventninger til hvordan fordelingen av ulike populasjoner vil se ut, og vi kan snakke om teoretiske fordelinger – eller sannsynlighetsfordelinger med andre ord. Hvor sannsynlig er det at en tilfeldig x-verdi dukker opp i dataene? For høyde kan vi ha visse forventninger til hvilke sannsynligheter det er for at en tilfeldig person har en gitt høyde, eller hvor mange prosent av den mannlige befolkningen som har en høyde innenfor et gitt intervall. Det vil si at fordelingen har en viss form med visse karakteristika. Vi forventer at flest observasjoner befinner seg i nærheten av gjennomsnittet, og at vi vil se færre og færre observasjoner jo lenger unna gjennomsnittet vi beveger oss. Vi forventer å finne flere norske menn over 20 år på rundt 180 cm enn 160 cm eller 210 cm. For fordelingen av høydedata vil vi si at dette er data som er normalfordelte.</p>
<p>En normalfordeling er en sannsynlighetsfunksjon der flesteparten av verdiene fra funksjonen samler seg om en sentral tendens, og der tettheten (hyppigheten) av verdier avtar jevnt jo lenger unna den sentrale tendensen man kommer. Grafisk framstilt får fordelingskurven en klokkeform, og normalfordeling omtales også som “bell shaped.” Overraskende mange fenomener viser seg å være nærme en normalfordeling, og den er derfor en helt sentral teoretisk sannsynlighetsfordeling i mange sammenhenger (også i statistisk prosesskontroll som vi kommer tilbake til senere). Vi bruker dermed normalfordelingen som en modell for observerte data. I en såkalt standard normalfordeling har vi en symmetrisk fordeling der den sentrale tendensen (forventingen) verdi = 0 og et standardavvik = 1.</p>
<p>Vi skal her ikke bry oss om det matematisk uttrykket for sannsynlighetstetthetsfunksjonen. Hvis vi derimot genererer et tenkt datasett etter standard normalfordelingsfunksjon vil det kunne se slik ut:</p>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-3"></span>
<img src="SPC-book_files/figure-html/unnamed-chunk-3-1.png" alt="Genererte standard normalfordelte data" width="672" />
<p class="caption">
Figure 4.3: Genererte standard normalfordelte data
</p>
</div>
<p>Her kan vi legge på en forventningskurve – en teoretisk kurve som viser en standard normalfordeling:</p>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-4"></span>
<img src="SPC-book_files/figure-html/unnamed-chunk-4-1.png" alt="Genererte standard normalfordelte data med normalfordelingskurve" width="672" />
<p class="caption">
Figure 4.4: Genererte standard normalfordelte data med normalfordelingskurve
</p>
</div>
<p>Vi kan ta bort det genererte datasettet og sitte igjen med bare normalfordelingskurven:</p>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-5"></span>
<img src="SPC-book_files/figure-html/unnamed-chunk-5-1.png" alt="Normalfordelingskurve" width="672" />
<p class="caption">
Figure 4.5: Normalfordelingskurve
</p>
</div>
<p>Det den standardiserte normalfordelingskurven (også kjent som Gausskurven eller også Bellkurven – “Klokkekurven” fordi den har en klokkeform) – kan brukes til er å si noe om spredningen på forventede verdier – eller hvor langt fra gjennomsnittsverdien man kan forvente å finne de enkelte verdiene.</p>
<p>Før vi ser nærmere på egenskaper ved normalfordelingskurven kan det være nødvendig å gå litt inn på begrepene varians og standardavvik som mål på spredningen i datasett. Disse begrepene, spesielt standardavvik, vil være helt sentrale i videre arbeid med temaet.</p>
<div id="varians-og-standardavvik" class="section level3" number="4.1.1">
<h3><span class="header-section-number">4.1.1</span> Varians og standardavvik</h3>
<p>Variansen i en variabel representerer det gjennomsnittlige avviket fra gjennomsnittsverdien <span class="citation">(Field et al., 2012)</span> og er et mål på spredningen i dataene (som navnet antyder: hvor mye dataene variere ut fra den sentrale tendensen). Under vises et eksempel basert på <span class="citation">Field (2009)</span>.</p>
<p>La oss anta at vi har spurt 5 studenter på høgskolen hvor mange kjæledyr de har. Svarene kan settes opp i en enkel tabell. I gjennomsnitt har de 2,6 kjæledyr. Vi ønsker imidlertid å se hvor mye avviket er for den enkelte fra snittet (siden vi har regnet ut snittet kan vi se på gjennomsnittsverdien som en modell på forholdet mellom studenter og antall kjæledyr). Vi registrerer svarene vi fikk i et skjema:</p>
<template id="87c42858-bcbc-4a87-83c5-de319e9ff7ca"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-ebe9a486{table-layout:auto;width:100%;}.cl-ebb4d602{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-ebbb613e{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-ebbbfd1a{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ebbbfd1b{background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ebbbfd1c{background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-ebe9a486'>
<thead><tr style="overflow-wrap:break-word;"><td class="cl-ebbbfd1c"><p class="cl-ebbb613e"><span class="cl-ebb4d602">Studentnr</span></p></td><td class="cl-ebbbfd1c"><p class="cl-ebbb613e"><span class="cl-ebb4d602">Antall</span></p></td><td class="cl-ebbbfd1c"><p class="cl-ebbb613e"><span class="cl-ebb4d602">Avvik</span></p></td><td class="cl-ebbbfd1c"><p class="cl-ebbb613e"><span class="cl-ebb4d602">Avvik_kvadrert</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-ebbbfd1a"><p class="cl-ebbb613e"><span class="cl-ebb4d602">1</span></p></td><td class="cl-ebbbfd1a"><p class="cl-ebbb613e"><span class="cl-ebb4d602">1</span></p></td><td class="cl-ebbbfd1a"><p class="cl-ebbb613e"><span class="cl-ebb4d602">-1.6</span></p></td><td class="cl-ebbbfd1a"><p class="cl-ebbb613e"><span class="cl-ebb4d602">2.56</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ebbbfd1a"><p class="cl-ebbb613e"><span class="cl-ebb4d602">2</span></p></td><td class="cl-ebbbfd1a"><p class="cl-ebbb613e"><span class="cl-ebb4d602">2</span></p></td><td class="cl-ebbbfd1a"><p class="cl-ebbb613e"><span class="cl-ebb4d602">-0.6</span></p></td><td class="cl-ebbbfd1a"><p class="cl-ebbb613e"><span class="cl-ebb4d602">0.36</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ebbbfd1a"><p class="cl-ebbb613e"><span class="cl-ebb4d602">3</span></p></td><td class="cl-ebbbfd1a"><p class="cl-ebbb613e"><span class="cl-ebb4d602">3</span></p></td><td class="cl-ebbbfd1a"><p class="cl-ebbb613e"><span class="cl-ebb4d602">0.4</span></p></td><td class="cl-ebbbfd1a"><p class="cl-ebbb613e"><span class="cl-ebb4d602">0.16</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ebbbfd1a"><p class="cl-ebbb613e"><span class="cl-ebb4d602">4</span></p></td><td class="cl-ebbbfd1a"><p class="cl-ebbb613e"><span class="cl-ebb4d602">3</span></p></td><td class="cl-ebbbfd1a"><p class="cl-ebbb613e"><span class="cl-ebb4d602">0.4</span></p></td><td class="cl-ebbbfd1a"><p class="cl-ebbb613e"><span class="cl-ebb4d602">0.16</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ebbbfd1a"><p class="cl-ebbb613e"><span class="cl-ebb4d602">5</span></p></td><td class="cl-ebbbfd1a"><p class="cl-ebbb613e"><span class="cl-ebb4d602">4</span></p></td><td class="cl-ebbbfd1a"><p class="cl-ebbb613e"><span class="cl-ebb4d602">1.4</span></p></td><td class="cl-ebbbfd1a"><p class="cl-ebbb613e"><span class="cl-ebb4d602">1.96</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ebbbfd1a"><p class="cl-ebbb613e"><span class="cl-ebb4d602">Snitt</span></p></td><td class="cl-ebbbfd1a"><p class="cl-ebbb613e"><span class="cl-ebb4d602">2.6</span></p></td><td class="cl-ebbbfd1a"><p class="cl-ebbb613e"><span class="cl-ebb4d602"></span></p></td><td class="cl-ebbbfd1a"><p class="cl-ebbb613e"><span class="cl-ebb4d602"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ebbbfd1b"><p class="cl-ebbb613e"><span class="cl-ebb4d602">Sum</span></p></td><td class="cl-ebbbfd1b"><p class="cl-ebbb613e"><span class="cl-ebb4d602"></span></p></td><td class="cl-ebbbfd1b"><p class="cl-ebbb613e"><span class="cl-ebb4d602">0</span></p></td><td class="cl-ebbbfd1b"><p class="cl-ebbb613e"><span class="cl-ebb4d602">5.20</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="38bd47ac-45ef-4d26-ae3c-d2f0a18ebd2e"></div>
<script>
var dest = document.getElementById("38bd47ac-45ef-4d26-ae3c-d2f0a18ebd2e");
var template = document.getElementById("87c42858-bcbc-4a87-83c5-de319e9ff7ca");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<p>Når vi regner ut avviket (sum of deviances) summerer vi avvikene. Siden denne er 0 skulle det innebære at det totalt sett i “modellen” ikke er avvik mellom modellen og våre virkelige observasjoner. Problemet her er at det er både positive og negative avvik som nuller hverandre ut. Man må derfor kvadrere avvikene for å omgå problemet med fortegn. Imidlertid får vi et nytt problem. La oss anta at vi i stedet for 5 studenter har spurt 500. Da får vi et svært høyt kvadrert avvik fra snitt. Altså – vi må ta høyde for for antallet observasjoner. Vi deler derfor sum kvadrert avvik fra snitt på antall observasjoner (5,20/5). MEN: vi må foreta et litt teknisk og komplisert tillegg i utregningen. Vi må dele på antall observasjoner MINUS 1 (som er antallet frihetsgrader – degrees of freedom). Dette vil ikke bli nærmere forklart her, men for de som ønsker å lese mer om frihetsgrader kan prøve noen andre kilder, f.eks. <span class="citation">Walker (1940)</span>, <span class="citation">Good (1973)</span> eller <span class="citation">Pandey &amp; Bright (2008)</span>. Vi ender altså opp med regnestykket 5,20/(5-1) = 1,3. Dette er variansen. <em>Variansen er altså det gjennomsnittlige avviket mellom gjennomsnittsverdien av de observerte dataene og verdiene til de enkelte observasjonene.</em></p>
<p>Som regel snakker vi imidlertid om standardavviket. Dette finner vi ved å ta kvadratroten av variansen (som vi jo har funnet ved å kvadrere avvikene for å unngå fortegnsproblemer). Vi får da i vårt tilfelle et standardavvik på 1,14. Variansen og standardavviket forteller oss altså noe om spredningen i dataene. Liten varians betyr at spredningen er liten (om vi har gjennomført en spørreundersøkelse betyr det at respondentene har svart ganske likt). Stor varians betyr stor spredning (respondentene har svart ganske ulikt).</p>
</div>
<div id="normalfordeling-standardavvik-og-forventninger" class="section level3" number="4.1.2">
<h3><span class="header-section-number">4.1.2</span> Normalfordeling, standardavvik og forventninger</h3>
<p>Vi kan nå se nærmere på normalfordelingen.</p>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-7"></span>
<img src="SPC-book_files/figure-html/unnamed-chunk-7-1.png" alt="Normalfordeling med 1 standardavvik" width="672" />
<p class="caption">
Figure 4.6: Normalfordeling med 1 standardavvik
</p>
</div>
<p>Ett standardavvik “over og under” 0 (= det skraverte området i grafen over) innebærer at det er 68 % sannsynlighet for at en tilfeldig valgt x-verdi befinner seg i dette intervallet. Vi kan vise det samme for 2 og 3 standardavvik:</p>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-8"></span>
<img src="SPC-book_files/figure-html/unnamed-chunk-8-1.png" alt="Normalfordeling med 2 standardavvik" width="672" />
<p class="caption">
Figure 4.7: Normalfordeling med 2 standardavvik
</p>
</div>
<p>To standardavvik “over og under” 0 (= det skraverte området i grafen over) innebærer at det er 95 % sannsynlighet for at en tilfeldig valgt x-verdi befinner seg i dette intervallet. Vi kan finne arealet mellom x=-2 og x=2, som er 0.9544997<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>.</p>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-9"></span>
<img src="SPC-book_files/figure-html/unnamed-chunk-9-1.png" alt="Normalfordeling med 3 standardavvik" width="672" />
<p class="caption">
Figure 4.8: Normalfordeling med 3 standardavvik
</p>
</div>
<p>Tre standardavvik “over og under” 0 (= det skraverte området i grafen over) innebærer at det er 99.7 % sannsynlighet for at en tilfeldig valgt x-verdi befinner seg i dette intervallet. Vi kan finne arealet mellom x=-3 og x=3, som er 0.9973002<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>. Dette utgjør et kjernepunkt i statistisk prosesskontroll som vi vil komme mye tilbake til.</p>
<p>Som nevnt er mange fenomener i hverdagen normalfordelte, eller nærme nok normalfordeling til at vi kan bruke normalfordeling som teoretisk modell for observerte data.<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a> Det finnes imidlertid mange tilfeller der vi ikke kan bruke normalfordelingen. Hvis dataene er sterkt asymmetriske vil ikke reglene for normalfordeling som vi har skissert ovenfor gjelde.<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a> Noen av de er viktige for statistisk prosesskontroll, og de vil vi se på i de følgende avsnittene.</p>
</div>
<div id="binomialfordeling" class="section level3" number="4.1.3">
<h3><span class="header-section-number">4.1.3</span> Binomialfordeling</h3>
<p>En distribusjon hvor det kun er to mulige utfall av en hendelse kalles en binomial fordeling. Et myntkast er en slik hendelse (gitt at vi ser bort fra den fysiske muligheten at mynten kan lande stående på høykant). Levende eller død kan også være et eksempel på dette. Det ene utfallet utelukker det andre, men de er uavhengige fordi resultatet i ett myntkast ikke påvirker resultatet i neste myntkast. Alle myntkastene må derimot være identiske, det vil si sannsynligheten for det ene eller det andre resultatet er lik hver gang forsøket eller myntkastet gjennomføres. Hvis vi har lik sannsynlighet, kan en tilfeldig generert binomial distribusjon se slik ut:</p>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-10"></span>
<img src="SPC-book_files/figure-html/unnamed-chunk-10-1.png" alt="Binomialfordeling med lik sannsynlighet" width="672" />
<p class="caption">
Figure 4.9: Binomialfordeling med lik sannsynlighet
</p>
</div>
<p>I diagrammet over vises en sannsynlighetsfordeling for en binomial fordeling der utfallene suksess/fiasko har lik sannsynlighet. Hvis vi gjennomfører en aktivitet med disse karakteristika 20 ganger kan vi bruke sannsynlighetsfordelingen til å skape en forventning om sannsynligheten for antall suksesser/fiaskoer. Hver gang vi gjennomfører aktiviteten blir det enten suksess eller fiasko. Hvis vi har 50% sjanse for suksess eller feil hver gang vi gjennomfører aktiviteten er sannsynligheten for suksess lik som sannsynligheten for fiasko. Vi kan da forvente at det er størst sannsynlighet at vi i 10 av 20 tilfeller får suksess. Det er liten sannsynlighet for at vi enten får suksess i 0 eller 20 av 20 ganger vi gjør aktiviteten.</p>
<p>Det er imidlertid verdt å merke seg at de to utfallene ikke trenger å ha lik sannsynlighet. Da vil den binomiale distribusjonen se annerledes ut:</p>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-11"></span>
<img src="SPC-book_files/figure-html/unnamed-chunk-11-1.png" alt="Binomialfordeling med ulik sannsynlighet" width="672" />
<p class="caption">
Figure 4.10: Binomialfordeling med ulik sannsynlighet
</p>
</div>
<p>Her har vi bare 20% sannsynlighet for suksess, og fordelingen av sannsynligheter vil se annerledes ut. Med 20% sannsynlighet for suksess er det veldig liten sannsynlighet for at vi vil få 10 eller flere suksesser hvis vi gjør forsøket 20 ganger. Det er størst sannsynlighet for å få 4 suksesser.</p>
<p>Et terningkast (med en vanlig terning med 6 sider) – som ikke er tuklet med – har lik sannsynlighet for å lande på hhv 1,2,3,4,5 og 6. Det vil si det er 1/6 sannsynlighet for 1, 1/6 sannsynlighet for 2 osv. Hvis vi kaster denne terningen 10 ganger kan resultatet se slik ut:</p>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-12"></span>
<img src="SPC-book_files/figure-html/unnamed-chunk-12-1.png" alt="10 terningkast" width="672" />
<p class="caption">
Figure 4.11: 10 terningkast
</p>
</div>
<p>Vi ser at vi ikke fikk noen 2’ere og 5’ere. Dette kan vi forvente når vi bare har 10 terningkast. Hvis vi imidlertid kaster terningen 100 ganger vil det være svært liten sannsynlighet for å ikke få «treff» på alle 6 verdiene på terningen, og vi burde kunne forvente at vi får en ganske jevn fordeling på alle 6 verdiene. Nedenfor vises resultatet av 100 terningkast.</p>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-13"></span>
<img src="SPC-book_files/figure-html/unnamed-chunk-13-1.png" alt="100 terningkast" width="672" />
<p class="caption">
Figure 4.12: 100 terningkast
</p>
</div>
<p>Vi ser at vi har en relativt jevn fordeling. Noe ulikhet er det selvsagt, noe vi vil forvente fra en tilfeldig prosess. Hvis vi gjennomførte 1000 eller 10000 terningkast vil fordelingen bli nærmere og nærmere den teoretisk forventede fordelingen. Vi kan burde, teoretisk, forvente 100 treff på hver mulighet hvis vi kaster terningen 600 ganger, men vi vil sjelden se akkurat 100 treff på hver slik vi ser hvis vi kjører tre runder med 600 terningkast:</p>
<p>Runde 1:</p>
<pre><code>## terning_runde1
##   1   2   3   4   5   6 
##  93 102 102 102 108  93</code></pre>
<p>Runde 2:</p>
<pre><code>## terning_runde2
##   1   2   3   4   5   6 
## 101 102  94  91 105 107</code></pre>
<p>Runde 3:</p>
<pre><code>## terning_runde3
##   1   2   3   4   5   6 
## 104 113  92  98  95  98</code></pre>
<p>Selv om vi kjører 6 000 000 terningkast og vil forvente 1 000 000 treff på hver av terningens sider vil vi ikke få en perfekt fordeling iht teoretisk forventning, men resultatet vil være svært nærme og er nærme nok til at vi kan bruke sannsynlighetsfordelingen til å lage forventninger om utfall:</p>
<p>6 000 000 terningkast:</p>
<pre><code>## minterning
##       1       2       3       4       5       6 
## 1000492  998250 1000216 1000832 1001422  998788</code></pre>
<p>Hvis vi setter resultatet fra 6 000 000 terningkast inn i et histogram ser vi at resultatet er svært nærme hva vi teoretisk vil forvente:</p>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-18"></span>
<img src="SPC-book_files/figure-html/unnamed-chunk-18-1.png" alt="6 000 000 terningkast" width="672" />
<p class="caption">
Figure 4.13: 6 000 000 terningkast
</p>
</div>
</div>
<div id="poissonfordeling" class="section level3" number="4.1.4">
<h3><span class="header-section-number">4.1.4</span> Poissonfordeling</h3>
<p>Poissonfordelinger finnes i situasjoner der hendelser skjer vilkårlig i tid (og rom) hvor vi er interessert i kun antallet hendelser i et gitt tidsintervall. Vi kan f.eks. være interessert i hvor mange supporthenvendelser vi får i løpet av en time, antallet feilmedisineringer per uke, hvor mange besøk avdelingen får per dag o.l. Andre eksempler kan være antall trafikkulykker langs en angitt veistrekning, antall elgpåkjørlser på en togstrekning, eller antall av en gitt art fugler i et definert område i et definert tidsrom. En hendelse må være uavhengig tidsmessig av andre hendelser (det er altså ikke økt sannsynlighet for at en hendelse vil skje fordi en tilsvarende hendelse akkurat har skjedd), sannsynligheten for en hendelse i et kort perspektiv er lik sannsynligheten over et lengre perspektiv, og ettersom et tidsintervall blir kortere og kortere vil sannsynligheten for hendelsen gå mot null.</p>
<p>Poissonfordeling uttrykker sannsynligheten for at et gitt antall hendelser inntreffer i et gitt tidsintervall (eller et gitt geografisk domene) <em>og</em> at vi kjenner gjennomsnittlig hvor ofte hendelsen inntreffer. denne sannsynligheten uttrykkes som en lambdaverdi (<span class="math inline">\(\lambda\)</span>).</p>
<p>Eksempelet under er hentet fra <span class="citation">Soage (2020)</span>:</p>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-19"></span>
<img src="SPC-book_files/figure-html/unnamed-chunk-19-1.png" alt="Poissonfordelinger" width="672" />
<p class="caption">
Figure 4.14: Poissonfordelinger
</p>
</div>
<p>Ut fra hvilken <span class="math inline">\(\lambda\)</span>-verdi vi setter kan vi si noe om sannsynligheten for at et antall hendelser inntreffer.</p>
<p><span class="citation">Ugarte et al. (2016)</span> eksemplifiserer Poissonfordeling ved å vise til at det i gjennomsnitt skåres 2,5 mål i en VM-kamp i fotball. Denne situasjonen tilfredsstiller forutsetningene for å bruke Possionfordeling.Vi kan grafisk framstille sannsynlighetsfordeingen slik:</p>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-20"></span>
<img src="SPC-book_files/figure-html/unnamed-chunk-20-1.png" alt="Poissonfordeling mål i VM-kamp fotball" width="672" />
<p class="caption">
Figure 4.15: Poissonfordeling mål i VM-kamp fotball
</p>
</div>
<p>I R kan vi også enkelt regne ut den nøyaktige sannsynligheten for x antall mål gitt forutsetningen om at det i snitt skåres 2.5 mål pr kamp til å være 0. Vi kan bruke sannsynlighetsfordelingen til å regne ut sannsynligheten for et gitt antall mål, f.eks.:</p>
<ul>
<li>Sannsynligheten for 0 mål = 0.082085</li>
<li>Sannsynligheten for 1 mål = 0.2052125</li>
<li>Sannsynligheten for 0 mål = 0.2565156</li>
<li>Sannsynligheten for 0 mål = 0.213763</li>
<li>Sannsynligheten for 0 mål = 0.1336019</li>
</ul>
<p>eller f.eks. sannsynligheten for at det skåres mellom 1 og 3 mål (= 0.6754911)</p>

</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>R-kode for utregning av areal mellom to x-verdier i en normalfordeing (=sannsynlighet for at en gitt x-verdi ligger i intervallet mellom de to x-verdiene): pnorm(2,mean=0,sd=1)-pnorm(-2,mean=0,sd=1)<a href="datatyper-og-datafordelinger.html#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>pnorm(3,mean=0,sd=1)-pnorm(-3,mean=0,sd=1)<a href="datatyper-og-datafordelinger.html#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p>Normalfordelingen er dessuten en god tilnærming til binomialfordeling med høyt antall observasjoner (høy n), og også til poissonfordeling med høy frekvens. Dette forfølger vi imidlertid ikke videre i dette kompendiet.<a href="datatyper-og-datafordelinger.html#fnref3" class="footnote-back">↩︎</a></p></li>
<li id="fn4"><p>Chebyshevs teorem vil imidlertid gjelde for alle datasett. Teoremet belyses i eget vedlegg for de spesielt interesserte<a href="datatyper-og-datafordelinger.html#fnref4" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="variasjon.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="r-kode.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/nilskvilvang/SPC/edit/master/04_Kap_4.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/nilskvilvang/SPC/blob/master/04_Kap_4.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
